<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_goomba_1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_enemy</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Place these in the object creation code
//battletype = The enemy type to battle
//z = 0;

z = 0; //Default
battletype = 2; //Default

landing = 0;
zspeed = 0;
zgravity = 0;

image_speed = 0;
active = true;
encounter = false;

if place_meeting(x,y,obj_h16) or place_meeting(x,y,obj_z16)
{
    z = 16;
    landing = 16;
}
if place_meeting(x,y,obj_h32) or place_meeting(x,y,obj_z32)
{
    z = 32;
    landing = 32;
}
if place_meeting(x,y,obj_h48) or place_meeting(x,y,obj_z48)
{
    z = 48;
    landing = 48;
}
if place_meeting(x,y,obj_h64) or place_meeting(x,y,obj_z64)
{
    z = 64;
    landing = 64;
}
if place_meeting(x,y,obj_h80) or place_meeting(x,y,obj_z80)
{
    z = 80;
    landing = 80;
}
if place_meeting(x,y,obj_h96) or place_meeting(x,y,obj_z96)
{
    z = 96;
    landing = 96;
}
if place_meeting(x,y,obj_h112) or place_meeting(x,y,obj_z112)
{
    z = 112;
    landing = 112;
}
status = "ok"; //The Goomba's Status
//instance_destroy(); //for now
timer = 0;
dead = false;
alarm[2] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead"
    event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if place_meeting(x,y,obj_h16) or place_meeting(x,y,obj_z16)
    y += 16 - 1;
if place_meeting(x,y,obj_h32) or place_meeting(x,y,obj_z32)
    y += 32 - 1;
if place_meeting(x,y,obj_h48) or place_meeting(x,y,obj_z48)
    y += 48 - 1;
if place_meeting(x,y,obj_h64) or place_meeting(x,y,obj_z64)
    y += 64 - 1;
if place_meeting(x,y,obj_h80) or place_meeting(x,y,obj_z80)
    y += 80 - 1;
if place_meeting(x,y,obj_h96) or place_meeting(x,y,obj_z96)
    y += 96 - 1;
if place_meeting(x,y,obj_h112) or place_meeting(x,y,obj_z112)
    y += 112 - 1;
if place_meeting(x,y,obj_h128) or place_meeting(x,y,obj_z128)
    y += 128 - 1;
if place_meeting(x,y,obj_h144) or place_meeting(x,y,obj_z144)
    y += 144 - 1;
if place_meeting(x,y,obj_h160) or place_meeting(x,y,obj_z160)
    y += 160 - 1;
if place_meeting(x,y,obj_h176) or place_meeting(x,y,obj_z176)
    y += 176 - 1;
if place_meeting(x,y,obj_h192) or place_meeting(x,y,obj_z192)
    y += 192 - 1;
if place_meeting(x,y,obj_h208) or place_meeting(x,y,obj_z208)
    y += 208 - 1;
if place_meeting(x,y,obj_h224) or place_meeting(x,y,obj_z224)
    y += 224 - 1;
if place_meeting(x,y,obj_h240) or place_meeting(x,y,obj_z240)
    y += 240 - 1;
if place_meeting(x,y,obj_h256) or place_meeting(x,y,obj_z256)
    y += 256 - 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.outcome = 0.5 //Enemy becomes active again
{
    global.outcome = 0;
    active = true;
    visible = true;
    encounter = false;
}
else if global.outcome = 1 //Enemy defeated and unactive
{
    global.outcome = 0;
    active = true;
    visible = true;
    instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Invincibility Frames
if active = false
{
    visible = !visible;
    alarm[0] = 5;
}
if active = false
    alarm[0] = 15;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_battlestart)
    exit;
z += zspeed;
zspeed -= zgravity;
if z &lt; landing
{
    z = landing;
    zspeed = 0;
    zgravity = 0;
}
if z &gt; landing
    zgravity = 1;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.stunned = true &amp;&amp; active = false
{
    global.stunned = false;
    alarm[0] = 1;
    alarm[1] = 115;
    image_speed = 0.275;
}
if active = true
{
    image_speed = 0.275;
    visible = true;
}
if active = false or instance_exists(obj_battlestart)
    image_single = image_index;
if !instance_exists(obj_battlestart)
    image_speed = 0.275;

if not place_meeting(x,y,obj_h16) &amp;&amp; not place_meeting(x,y,obj_h32)
 &amp;&amp; not place_meeting(x,y,obj_h48) &amp;&amp; not place_meeting(x,y,obj_h64)
  &amp;&amp; not place_meeting(x,y,obj_h80) &amp;&amp; not place_meeting(x,y,obj_h96)
   &amp;&amp; not place_meeting(x,y,obj_h112) &amp;&amp; not place_meeting(x,y,obj_h128)
    &amp;&amp; not place_meeting(x,y,obj_h144) &amp;&amp; not place_meeting(x,y,obj_h160)
     &amp;&amp; not place_meeting(x,y,obj_h176) &amp;&amp; not place_meeting(x,y,obj_h192)
      &amp;&amp; not place_meeting(x,y,obj_h208) &amp;&amp; not place_meeting(x,y,obj_h224)
       &amp;&amp; not place_meeting(x,y,obj_h240) &amp;&amp; not place_meeting(x,y,obj_h256)
    landing = 0;

if not place_meeting(x,y,obj_z16) &amp;&amp; not place_meeting(x,y,obj_z32)
 &amp;&amp; not place_meeting(x,y,obj_z48) &amp;&amp; not place_meeting(x,y,obj_z64)
  &amp;&amp; not place_meeting(x,y,obj_z80) &amp;&amp; not place_meeting(x,y,obj_z96)
   &amp;&amp; not place_meeting(x,y,obj_z112) &amp;&amp; not place_meeting(x,y,obj_z128)
    &amp;&amp; not place_meeting(x,y,obj_z144) &amp;&amp; not place_meeting(x,y,obj_z160)
     &amp;&amp; not place_meeting(x,y,obj_z176) &amp;&amp; not place_meeting(x,y,obj_z192)
      &amp;&amp; not place_meeting(x,y,obj_z208) &amp;&amp; not place_meeting(x,y,obj_z224)
       &amp;&amp; not place_meeting(x,y,obj_z240) &amp;&amp; not place_meeting(x,y,obj_z256)
    landing = 0;

depth = -y+8-z/16;

//The status dead is when mario stomps it but the dead variable is when a shell hits it
if dead = false
{
    /*if status = "dead"
    {
        timer-= 1;
        if timer = 0
            instance_destroy();
    }*/
    if status = "hit" &amp;&amp; timer &gt; 0
    {
        timer-= 1;
        if timer = 0
            event_user(0);
    }
    //Ok is just a plain goomba awaiting orders to attack or just move around peacefully
    if status = "ok" &amp;&amp; instance_exists(par_player)
    {
        if random(48) &lt; (1)
        {
            if random(4) &lt; (1)
            {
                status = "walking";
                direction = 0;
                sprite_index = spr_goomba_4;
                image_speed = 0.5;
                timer = 32;
                speed = 2;
                exit;
            }
            if random(4) &lt; (1)
            {
                status = "walking";
                direction = 90;
                sprite_index = spr_goomba_3;
                image_speed = 0.5;
                timer = 32;
                speed = 2;
                exit;
            }
            if random(4) &lt; (1)
            {
                status = "walking";
                direction = 180;
                sprite_index = spr_goomba_2;
                image_speed = 0.5;
                timer = 32;
                speed = 2;
                exit;
            }
            if random(4) &lt; (1)
            {
                status = "walking";
                direction = 270;
                sprite_index = spr_goomba_1;
                image_speed = 0.5;
                timer = 32;
                speed = 2;
                exit;
            }
        }
        if par_player.x &gt; x &amp;&amp; sprite_index = spr_goomba_4 &amp;&amp; instance_exists(par_player)
        {
            if distance_to_object(par_player) &lt; 65
            {
                status = "attacking";
                move_towards_point(par_player.x,par_player.y,3);
                image_speed = 0.75;
                timer = 40;
                exit;
            }
        }
        if par_player.x &lt; x &amp;&amp; sprite_index = spr_goomba_2 &amp;&amp; instance_exists(par_player)
        {
            if distance_to_object(par_player) &lt; 65
            {
                status = "attacking";
                move_towards_point(par_player.x,par_player.y,3);
                image_speed = 0.75;
                timer = 40;
                exit;
            }
        }
        if par_player.y &lt; y &amp;&amp; sprite_index = spr_goomba_3 &amp;&amp; instance_exists(par_player)
        {
            if distance_to_object(par_player) &lt; 65
            {
                status = "attacking";
                move_towards_point(par_player.x,par_player.y,3);
                image_speed = 0.75;
                timer = 40;
                exit;
            }
        }
        if par_player.y &gt; y &amp;&amp; sprite_index = spr_goomba_1 &amp;&amp; instance_exists(par_player)
        {
            if distance_to_object(par_player) &lt; 65
            {
                status = "attacking";
                move_towards_point(par_player.x,par_player.y,3);
                image_speed = 0.75;
                timer = 40;
                exit;
            }
        }
    }

    //Status walking is just general walking, when Mario isn't around.
    if status = "walking"
    {
        timer-= 1;
        if timer = 0
        {
            status = "ok";
            image_single = 0;
            speed = 0;
            exit;
        }
    }

    //Attacking is when the goomba charges at you
    if status = "attacking"
    {
        timer-= 1;
        if timer = 0
        {
            status = "resting";
            timer = 90;
            if direction &gt; 224 &amp;&amp; direction &lt; 315
            {
                sprite_index = spr_goomba_1;
                image_single = 0;
                speed = 0;
                exit;
            }
            if direction &gt; 134 &amp;&amp; direction &lt; 225
            {
                sprite_index = spr_goomba_2;
                image_single = 0;
                speed = 0;
                exit;
            }
            if direction &gt; 89 &amp;&amp; direction &lt; 135
            {
                sprite_index = spr_goomba_3;
                image_single = 0;
                speed = 0;
                exit;
            }
            sprite_index = spr_goomba_4;
            image_single = 0;
            speed = 0;
            exit;
        }
        if direction &gt; 224 &amp;&amp; direction &lt; 315
        {
            sprite_index = spr_goomba_1;
            image_speed = 0.75;
            exit;
        }
        if direction &gt; 134 &amp;&amp; direction &lt; 225
        {
            sprite_index = spr_goomba_2;
            image_speed = 0.75;
            exit;
        }
        if direction &gt; 89 &amp;&amp; direction &lt; 135
        {
            sprite_index = spr_goomba_3;
            image_speed = 0.75;
            exit;
        }
        sprite_index = spr_goomba_4;
        image_speed = 0.75;
        exit;
    }
    //resting is the time after the attack - 3 seconds, so it doesnt constantly attack, this is a good time to jump on it.
    if status = "resting"
    {
        timer-= 1;
        if timer = 0
            status = "ok";
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_solid">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "attacking"
{
    move_bounce_all(true);
    exit;
}
x = xprevious;
y = yprevious;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h112">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 111
    landing = 112;
if z &lt; 112
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h96">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 95
    landing = 96;
if z &lt; 96
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 79
    landing = 80;
if z &lt; 80
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 63
    landing = 64;
if z &lt; 64
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h48">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 47
    landing = 48;
if z &lt; 48
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 31
    landing = 32;
if z &lt; 32
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_h16">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 15
    landing = 16;
if z &lt; 16
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z112">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 111
    landing = 112;
if z &lt; 112
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z96">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 95
    landing = 96;
if z &lt; 96
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 79
    landing = 80;
if z &lt; 80
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 63
    landing = 64;
if z &lt; 64
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z48">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 47
    landing = 48;
if z &lt; 48
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 31
    landing = 32;
if z &lt; 32
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_z16">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; 15
    landing = 16;
if z &lt; 16
{
    x = xprevious;
    y = yprevious;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="par_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "attacking"
{
    move_bounce_all(true);
    exit;
}
x = xprevious;
y = yprevious;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_thunder">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Hand Attack
if global.thunder = 1
{
    status = "hit";
    speed = 0;
    timer = 12;
    par_player.zspeed = 4;
    audio_stop_sound(global.music);
    if instance_exists(obj_lplayer_2) &amp;&amp; instance_exists(obj_mplayer_2)
        global.strike = 7;
    event_user(1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_fire">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Hand Attack
if global.fire = 1
{
    status = "hit";
    speed = 0;
    timer = 12;
    par_player.zspeed = 4;
    audio_stop_sound(global.music);
    if instance_exists(obj_mplayer) &amp;&amp; instance_exists(obj_lplayer)
        global.strike = 3;
    event_user(1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mplayer_2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead" or status = "hit"
    exit;
else if not instance_exists(obj_battlestart)
{
    //Jump Encounter
    if obj_mplayer_2.z &lt; z + 18 &amp;&amp; obj_mplayer_2.zspeed &lt; 0 &amp;&amp; obj_mplayer_2.jump = 1
    {
        status = "hit";
        speed = 0;
        timer = 12;
        par_player.zspeed = 4;
        audio_stop_sound(global.music);
        audio_play_sound(snd_hit,0,0);
        global.strike = 1;
        //Damage Enemy    
        event_user(1);       
    }
    
    //Enter Battle
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_lplayer_2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead" or status = "hit"
    exit;
else if not instance_exists(obj_battlestart)
{
    //Jump Encounter
    if obj_lplayer_2.z &lt; z + 18 &amp;&amp; obj_lplayer_2.zspeed &lt; 0 &amp;&amp; obj_lplayer_2.jump = 1
    {
        status = "hit";
        speed = 0;
        timer = 12;
        par_player.zspeed = 4;
        audio_stop_sound(global.music);
        audio_play_sound(snd_hit,0,0);
        global.strike = 5;
        //Damage Enemy    
        event_user(1);       
    }
    
    //Enter Battle
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_lplayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead" or status = "hit"
    exit;
else if not instance_exists(obj_battlestart)
{
    //Jump Encounter
    if obj_lplayer.z &lt; z + 18 &amp;&amp; obj_lplayer.zspeed &lt; 0 &amp;&amp; obj_lplayer.jump = 1
    {
        status = "hit";
        speed = 0;
        timer = 12;
        par_player.zspeed = 4;
        audio_stop_sound(global.music);
        audio_play_sound(snd_hit,0,0);
        global.strike = 5;
        //Damage Enemy    
        event_user(1);       
    }
    
    //Enter Battle
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mplayer_mini">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead" or status = "hit"
    exit;
else if not instance_exists(obj_battlestart)
{
    //Jump Encounter
    if obj_mplayer_mini.z &lt; z + 18 &amp;&amp; obj_mplayer_mini.zspeed &lt; 0 &amp;&amp; obj_mplayer_mini.jump = 1
    {
        status = "hit";
        speed = 0;
        timer = 12;
        par_player.zspeed = 4;
        audio_stop_sound(global.music);
        audio_play_sound(snd_hit,0,0);
        global.strike = 1;
        //Damage Enemy    
        event_user(1);       
    }
    
    //Enter Battle
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mplayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if status = "dead" or status = "hit"
    exit;
else if not instance_exists(obj_battlestart)
{
    //Jump Encounter
    if obj_mplayer.z &lt; z + 18 &amp;&amp; obj_mplayer.zspeed &lt; 0 &amp;&amp; obj_mplayer.jump = 1
    {
        status = "hit";
        speed = 0;
        timer = 12;
        par_player.zspeed = 4;
        audio_stop_sound(global.music);
        audio_play_sound(snd_hit,0,0);
        global.strike = 1;
        //Damage Enemy    
        event_user(1);       
    }
    
    //Enter Battle
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Determine Strike
if global.strike &gt; 0 &amp;&amp; global.strike &lt;&gt; 4
{
    if sprite_index = spr_goomba_1
    {
        sprite_index = spr_goomba_5;
        image_single = 0;
        exit;
    }
    if sprite_index = spr_goomba_2
    {
        sprite_index = spr_goomba_5;
        image_single = 1;
        exit;
    }
    if sprite_index = spr_goomba_3
    {
        sprite_index = spr_goomba_5;
        image_single = 2;
        exit;
    }
    if sprite_index = spr_goomba_4
    {
        sprite_index = spr_goomba_5;
        image_single = 3;
        exit;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Enemy Encounter
if par_player.invincible = false &amp;&amp; par_player.z &lt; z + 14 &amp;&amp; global.stunned = false
{
    par_player.alarm[1] = 1;
    par_player.invincible = true;
    with obj_view event_user(0);
    if active = true &amp;&amp; !instance_exists(obj_battlecontrol)
    {
        global.stunned = false;
        encounter = true;
        active = false;
        if status = "attacking"
            global.strike = 4;
        with par_player active = false;
        with par_player image_speed = 0;
        global.battletype = battletype;
        instance_create(x,y,obj_battlestart);
        
        room_persistent = true;
        room_speed = 60;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room_persistent = true &amp;&amp; !instance_exists(obj_battlecontrol) &amp;&amp; encounter = true
{
    global.stunned = true;
    active = false;
    status = "dead";
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if z &gt; landing
    draw_sprite(spr_shadow,1,x+5,y-landing);

if z &lt; landing
    draw_sprite(spr_shadow,1,x+5,y-landing);

draw_sprite(sprite_index,image_index,x,y-z);


//Debug
//draw_text(x,y+32,"Z: " + string(z));
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
