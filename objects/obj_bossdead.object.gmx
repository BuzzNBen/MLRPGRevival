<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bowserhurt</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>spr_mask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = .275;
stance = 1;
headz = 10; //Height that player will land on
hurt = 0;
hurttime = 20;
turndone = 0;
moveto = 0;
stancex = x;
stancey = y;
target = 0;
throwround = 1;

z = 0;
ground = 1;
zspeed = 0;
zgravity = -1;
zgravityon = 0;
falling = 0;
ID = 0;
ready = 0;
alarm[1] = 30;

lvl = 1; //Level
experience = 2; //Experience recieved after the battle
coins = 0; //Coins recieved after the battle

hp = 1; //HP left
pow = obj_shroobb.pow; //Damage dealt (this can be the maximum damage recieved by this enemy)
def = obj_shroobb.def; //Defense to damage
spd = obj_shroobb.spd; //Speed for turns

floating = 1; //Whether the enemy is floating or on ground

//Uninitialized variables
enemyid = 0;
nextid = 0;
enemyahead = 0;
depth = 0;
enemyid[1] = 0;
enemyid[2] = 0;
enemyid[3] = 0;
enemyid[4] = 0;
enemyid[5] = 0;
stance = 0;
enemyahead = 0;
dead = 0;
image_alpha = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Ready
ready = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Throw object
if target = 1
    moveto = 1;
else if target = 2
    moveto = 9;
audio_play_sound(snd_throw,0,0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Fade out and destroy
if image_alpha &lt;= 0
    instance_destroy();
else
{
    image_alpha -= 0.1;
    alarm[0] = 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if moveto = 4
    depth = obj_mariob.depth - 1;
if moveto = 12
    depth = obj_luigib.depth - 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.Mdead = 1 &amp;&amp; global.Ldead = 1 or dead = 1
    exit
else
{
    //Make gravity
    if moveto = 0
    {
        if zgravityon = 1
            zspeed += zgravity;
        z += zspeed;
        if z &gt; 11
            falling = 1;
        if z &lt;= 0
        {
            /*if falling = 1 &amp;&amp; target = 0
                moveto = 1; //Roll towards Mario
            else if falling = 1 &amp;&amp; target = 1
                moveto = 3; //Roll towards Luigi*/
            zspeed = 0;
            z = 0;
            zgravityon = 0;
            ground = 1;
        }
        if ground = 0
            x -= 1;
        if ground = 0 &amp;&amp; ready = 1
        {
            x -= 1;
            y += 3;
        }
    }
    else
    {
        if x = stancex &amp;&amp; y = stancey
            stance = 1;
        //Throw between Shroob and Mario
        if moveto = 1
        {
            mp_linear_step(144,obj_mariob.y-144,6+throwround,0); //Throw towards Mario
        }
        if x = 144 &amp;&amp; y = obj_mariob.y-144 &amp;&amp; moveto = 1
            moveto = 2;
        if moveto = 2
            mp_linear_step(obj_mariob.x-8,obj_mariob.y-144,5+throwround,0); //Allign onto Mario
        if x = obj_mariob.x-8 &amp;&amp; y = obj_mariob.y-144 &amp;&amp; moveto = 2
            moveto = 3;
        if moveto = 3
        {
            if !audio_is_playing(snd_fall)
                audio_play_sound(snd_fall,0,0);
            moveto = 4;
        }
        if moveto = 4
        {
            if obj_mariob.sprite_index = spr_mariobhammerhit &amp;&amp; sound_isplaying(snd_strike)
                moveto = 5;
            else
                mp_linear_step(obj_mariob.x-8,obj_mariob.y,2+throwround,0); //Fall onto Mario
        }
        if moveto = 5
        {
            mp_linear_step(144,obj_mariob.y-144,7+throwround,0); //Shoot back to Shroob
        }
        if x = 144 &amp;&amp; y = obj_mariob.y-144 &amp;&amp; moveto = 5
            moveto = 6;        
        if moveto = 6
            mp_linear_step(192,obj_mariob.y-144,3+throwround,0); //Allign onto Shroob    
        if x = 192 &amp;&amp; y = obj_mariob.y-144 &amp;&amp; moveto = 6
            moveto = 7
        if moveto = 7
        {
            if !audio_is_playing(snd_fall)
                audio_play_sound(snd_fall,0,0);
            moveto = 8;
        }            
        if moveto = 8
        {
            mp_linear_step(192,176,3+throwround,0); //Fall onto Shroob
        }
        //Throw between Shroob and Luigi
        if moveto = 9
        {
            mp_linear_step(144,obj_luigib.y-208,6+throwround,0); //Throw towards Luigi
        }
        if x = 144 &amp;&amp; y = obj_luigib.y-208 &amp;&amp; moveto = 9
            moveto = 10;
        if moveto = 10
            mp_linear_step(obj_luigib.x-8,obj_luigib.y-208,5+throwround,0); //Allign onto Luigi
        if x = obj_luigib.x-8 &amp;&amp; y = obj_luigib.y-208 &amp;&amp; moveto = 10
            moveto = 11;
        if moveto = 11
        {
            if !audio_is_playing(snd_fall)
                audio_play_sound(snd_fall,0,0);
            moveto = 12;
        }
        if moveto = 12
        {
            if obj_mariob.sprite_index = spr_luigibhammerhit &amp;&amp; sound_isplaying(snd_strike)
                moveto = 13;
            else
                mp_linear_step(obj_luigib.x-8,obj_luigib.y,2+throwround,0); //Fall onto Luigi
        }
        if moveto = 13
        {
            mp_linear_step(144,obj_luigib.y-208,7+throwround,0); //Shoot back to Shroob
        }
        if x = 144 &amp;&amp; y = obj_luigib.y-208 &amp;&amp; moveto = 13
            moveto = 14;        
        if moveto = 14
            mp_linear_step(192,obj_luigib.y-208,3+throwround,0); //Allign onto Shroob    
        if x = 192 &amp;&amp; y = obj_luigib.y-208 &amp;&amp; moveto = 14
            moveto = 15
        if moveto = 15
        {
            if !audio_is_playing(snd_fall)
                audio_play_sound(snd_fall,0,0);
            moveto = 16;
        }            
        if moveto = 16
        {
            mp_linear_step(192,176,3+throwround,0); //Fall onto Shroob
        }
        
        enemyahead = 0; //enemyahead is just a variable used in coding, don't worry about it
        if turndone = 1 &amp;&amp; global.turn = 2
        {
            /*if enemynum &lt; 5
            {
                do 
                {
                    enemyahead += 1;
                    nextid = obj_battlecontrol.enemyid[enemynum+enemyahead];
                }
                until (instance_exists(nextid) || enemynum+enemyahead = 5)
                if instance_exists(nextid)
                {
                    if nextid.moveto = 0 &amp;&amp; nextid.turndone = 0
                    {
                        target = floor(random(2)); //Choose whether to attack Mario or Luigi
                        if global.Mdead &gt; 0
                            target = 1;
                        if global.Ldead &gt; 0
                            target = 0;
            
                        if target = 0
                            nextid.moveto = 1; //Move to Mario
                        if target = 1
                            nextid.moveto = 3; //Move to Luigi
                    }
                }
            }*/
            if enemynum+enemyahead = 5 &amp;&amp; x = xstart &amp;&amp; y = ystart
            {
                if global.Lspd &gt; global.Mspd &amp;&amp; global.turn &lt;&gt; 1
                {
                    obj_luigib.turnnext = 0;
                    obj_luigib.phase = 1;
                    obj_mariob.turnnext = 1;
                    obj_mariob.stance = 1;
                    global.turn = 1;
                }
                else
                {
                    obj_mariob.turnnext = 0;
                    obj_luigib.turnnext = 1;
                    obj_luigib.stance = 1;
                    global.turn = 0;
                }
                turndone = 0;
            }
        }
    
        if global.turn != 2
            turndone = 0;
    
        if hp &lt;= 0 //Enemy dies
        {
            global.stunned = true;
            audio_play_sound(snd_enemy_dead,0,0);
            global.experience += experience;
            global.coinsearned += coins;
            event_user(0);
        }
    }
    if hurt = 1
        hurttime += -0.2;
    if hurttime &lt;= 0
    {
        hurt = 0;
        hurttime = 20;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if dead = 0
{
    dead = 1;
    alarm[0] = 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Draw shadow
//draw_sprite_ext(spr_shadow2,image_index,x+2,ystart+40-z,image_xscale,image_yscale,0,-1,image_alpha);

//Draw enemy
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,0,-1,image_alpha);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
