<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_shroobstance</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_enemyground</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = .275;
stance = 1;
headz = 20; //Height that player will land on
hurt = 0;
hurttime = 10;
turndone = 0;
moveto = 0;
stancex = x;
stancey = y;
target = 0;

name = "Shroob (LV 25)"; //Name of the enemy
enemyname = object_get_name(object_index); //Store object name

lvl = 25; //Level
experience = 500; //Experience recieved after the battle
coins = 100; //Coins recieved after the battle

hp = 500; //HP left
pow = 88; //Damage dealt (this can be the maximum damage recieved by this enemy)
def = 124; //Defense to damage
spd = 162; //Speed for turns

floating = 0; //Whether the enemy is floating or on ground

//NOTE: Critical hits are only effective during Excellent Hits
firebrand = 0; //Effect Firebrand has (0 is Normal, 1 is Critical, 2 is Heal)
thunderbrand = 0; //Effect Thunderbrand has (0 is Normal, 1 is Critical, 2 is Heal)

//Uninitialized variables
enemynum = 0;
enemyid = 0;
nextid = 0;
enemyahead = 0;
enemyatt = 0;
depth = 0;
enemyid[1] = 0;
enemyid[2] = 0;
enemyid[3] = 0;
enemyid[4] = 0;
enemyid[5] = 0;
stance = 0;
enemyahead = 0;
dead = 0;
image_alpha = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch (global.turn)
{
    case 0:
        obj_mariob.sprite_index = spr_mariobwalkingback;
        obj_mariob.moveto = 0;
    break;
    case 1:
        obj_luigib.sprite_index = spr_luigibwalkingback;
        obj_luigib.moveto = 0;
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Create another Shroob beam
ID = instance_create(x-40,y,obj_shroobbeam); //Shoot beam straight
with ID effect_create_above(ef_explosion,x,y-4,0.1,c_white);
with ID effect_create_above(ef_ring,x,y-6,0.1,c_aqua);
ID.moveto = 3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Fade out and destroy
if image_alpha &lt;= 0
    instance_destroy();
else
{
    image_alpha -= 0.1;
    alarm[0] = 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_pointsbattle) or obj_mariob.phase &lt; 4 or obj_luigib.phase &lt; 4
    depth = y;
else
    depth = -y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>enemynum = 0; //the number in obj_battlecontrol's variable enemyid

if id = obj_battlecontrol.enemyid[1]
    enemynum = 1;
if id = obj_battlecontrol.enemyid[2]
    enemynum = 2;
if id = obj_battlecontrol.enemyid[3]
    enemynum = 3;
if id = obj_battlecontrol.enemyid[4]
    enemynum = 4;
if id = obj_battlecontrol.enemyid[5]
    enemynum = 5;

if global.Mdead = 1 &amp;&amp; global.Ldead = 1 or dead = 1
    exit;
else
{
    if x = stancex &amp;&amp; y = stancey
    {
        if global.Mdead = 0.5 &amp;&amp; obj_mariob.sprite_index = spr_mariodie
            exit;
        if global.Ldead = 0.5 &amp;&amp; obj_luigib.sprite_index = spr_luigidie
            exit;
        if global.Mdead = 1 &amp;&amp; global.Ldead = 1
            exit;
    }
    if hurt = 1
        hurttime += -0.2;
    if stance = 1
        sprite_index = spr_shroobstance;
    if stance = 1.5
        sprite_index = spr_shroobwalk;
    if hurttime &lt;= 0
    {
        hurt = 0;
        hurttime = 10;
    }
    if hurt = 1
        sprite_index = spr_shroobhurt;
    
    if x = stancex &amp;&amp; y = stancey
        stance = 1;
    if moveto = 0
        mp_linear_step(stancex,stancey,5,0); //Return to starting position
    //Attack Variant A (attack Mario)
    if moveto = 1 
    {
        mp_linear_step(176,184,2.5,0); //Attack Mario
        sprite_index = spr_shroobwalk;
        stance = 0;
        obj_mariob.stance = 3; //Battle stance (jump guard)
        obj_luigib.stance = 3; //Battle stance (jump guard)
    }
    if x = 176 &amp;&amp; y = 184 &amp;&amp; moveto = 1 &amp;&amp; stance = 0 &amp;&amp; sprite_index = spr_shroobwalk
    {
        sprite_index = spr_shroobattackm;
        moveto = 2;
        if !audio_is_playing(snd_spin2)
            audio_play_sound(snd_spin2,0,0);
    }
    if sprite_index = spr_shroobattackm &amp;&amp; moveto = 2 &amp;&amp; stance &lt; 2 &amp;&amp; image_index &gt;= 24
    {
        if !instance_exists(obj_shroobbeam)
        {
            ID = instance_create(x-40,y-30,obj_shroobbeam); //Shoot beam toward Mario
            with ID effect_create_above(ef_explosion,x,y-4,0.1,c_white);
            with ID effect_create_above(ef_ring,x,y-6,0.1,c_aqua);
            with ID target = 0;
            with ID moveto = 1;
        }
        stance = 3;
    }
    //Attack Variant A (attack Luigi)
    if moveto = 3 
    {
        mp_linear_step(176,168,2.5,0); //Attack Luigi
        sprite_index = spr_shroobwalk;
        stance = 0;
        obj_mariob.stance = 3; //Battle stance (jump guard)
        obj_luigib.stance = 3; //Battle stance (jump guard)
    }
    if x = 176 &amp;&amp; y = 168 &amp;&amp; moveto = 3 &amp;&amp; stance = 0 &amp;&amp; sprite_index = spr_shroobwalk
    {
        sprite_index = spr_shroobattackl;
        moveto = 4;
        if !audio_is_playing(snd_spin2)
            audio_play_sound(snd_spin2,0,0);
    }
    if sprite_index = spr_shroobattackl &amp;&amp; moveto = 4 &amp;&amp; stance &lt; 2 &amp;&amp; image_index &gt;= 24
    {
        if !instance_exists(obj_shroobbeam)
        {
            ID = instance_create(x-40,y-8,obj_shroobbeam); //Shoot beam toward Luigi
            with ID effect_create_above(ef_explosion,x,y-4,0.1,c_white);
            with ID effect_create_above(ef_ring,x,y-6,0.1,c_aqua);
            with ID target = 1;
            with ID moveto = 2;
        }
        stance = 3;
    }  
    //Return to start position and end turn
    if moveto = 5
    {
        image_speed = .275;
        stance = 1.5; //Start walking animation
        if x = stancex &amp;&amp; y = stancey
        {
            moveto = 0;
            turndone = 1;
        }
        else
            mp_linear_step(stancex,stancey,5,0); //Return to starting position
    }
    else if moveto = 16
    {
        image_speed = .275;
        if x = stancex &amp;&amp; y = stancey
        {
            moveto = 0;
            if obj_battlecontrol.startid = enemynum || nextid = enemynum
                turndone = 1;
        }
        else
            mp_linear_step(stancex,stancey,5,0); //Return to starting position    
    }
    //Attack Variant B (Throw spikeball at Mario)
    if moveto = 6 
    {
        mp_linear_step(192,176,2.5,0); //Attack Mario
        sprite_index = spr_shroobwalk;
        stance = 0;
        obj_mariob.stance = 4; //Battle stance (hammer guard)
        obj_luigib.stance = 4; //Battle stance (hammer guard)
    }
    if x = 192 &amp;&amp; y = 176 &amp;&amp; moveto = 6 &amp;&amp; sprite_index = spr_shroobwalk
    {
        sprite_index = spr_shroobtakeout;
        if !audio_is_playing(snd_item) &amp;&amp; stance &lt;&gt; 4
            audio_play_sound(snd_item,0,0);
        stance = 4;
    }
    if moveto = 7 &amp;&amp; stance = 4 &amp;&amp; sprite_index = spr_shroobtakeout
    {
        stance = 5;
        if !instance_exists(obj_shroobball)
        {
            ID = instance_create(x-4,y-24,obj_shroobball); //Shoot beam toward Mario
            ID.target = 1; //Target is Mario
            ID.enemynum = enemynum;
        }        
    }
    if (moveto = 7 || moveto = 9 || moveto = 15) &amp;&amp; stance = 5 &amp;&amp; !instance_exists(ID)
    {
        moveto = 5;
    }
    //Attack Variant B (Throw spikeball at Luigi)
    if moveto = 8 
    {
        mp_linear_step(192,176,2.5,0); //Attack Luigi
        sprite_index = spr_shroobwalk;
        stance = 0;
        obj_mariob.stance = 4; //Battle stance (hammer guard)
        obj_luigib.stance = 4; //Battle stance (hammer guard)
    }
    if x = 192 &amp;&amp; y = 176 &amp;&amp; moveto = 8 &amp;&amp; sprite_index = spr_shroobwalk
    {
        sprite_index = spr_shroobtakeout;
        if !audio_is_playing(snd_item) &amp;&amp; stance &lt;&gt; 4
            audio_play_sound(snd_item,0,0);
        stance = 4;
    }
    if moveto = 9 &amp;&amp; stance = 4 &amp;&amp; sprite_index = spr_shroobtakeout
    {
        stance = 5;
        if !instance_exists(obj_shroobball)
        {
            ID = instance_create(x-4,y-24,obj_shroobball); //Shoot beam toward Luigi
            ID.target = 2; //Target is Luigi
            ID.enemynum = enemynum;
        }        
    }
    //Attack Variant C (attack Mario)
    if moveto = 10
    {
        obj_mariob.stance = 3; //Battle stance (jump guard)
        obj_luigib.stance = 3; //Battle stance (jump guard)
        //If All 3 Shroobs are present
        if instance_exists(obj_battlecontrol.enemyid[2]) &amp;&amp; instance_exists(obj_battlecontrol.enemyid[3]) &amp;&amp; instance_exists(obj_battlecontrol.enemyid[4])
        {
            if obj_battlecontrol.startid = enemynum || nextid = enemynum //If it is this enemies turn
            {
                switch (enemynum)
                {
                    case 2: //1st Shroob moves
                        mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
                        if obj_battlecontrol.enemyid[4].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[4].moveto = 10; //Other Shroob will move too
                    break;
                    case 3: //2nd Shroob moves
                        moveto = choose(1,3,6,8,1,3); //Choose a different attack
                    break;
                    case 4: //3rd Shroob moves
                        mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
                        if obj_battlecontrol.enemyid[2].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[2].moveto = 10; //Other Shroob will move too
                    break;
                }
            }
            else if (obj_battlecontrol.startid = 2 || nextid = 2) &amp;&amp; enemynum = 4
                mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
            else if (obj_battlecontrol.startid = 4 || nextid = 4) &amp;&amp; enemynum = 2
                mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
            else if enemynum = 3
                 moveto = choose(1,3,6,8); //Choose a different attack
            sprite_index = spr_shroobwalk;
            stance = 0;
        }
        //If 1st and 3rd Shroobs are present
        else if instance_exists(obj_battlecontrol.enemyid[2]) &amp;&amp; instance_exists(obj_battlecontrol.enemyid[4])
        {
            if obj_battlecontrol.startid = enemynum || nextid = enemynum //If it is this enemies turn
            {
                switch (enemynum)
                {
                    case 2: //1st Shroob moves
                        mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
                        if obj_battlecontrol.enemyid[4].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[4].moveto = 10; //Other Shroob will move too
                    break;
                    case 4: //3rd Shroob moves
                        mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
                        if obj_battlecontrol.enemyid[2].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[2].moveto = 10; //Other Shroob will move too
                    break;
                }
            }      
            else if (obj_battlecontrol.startid = 2 || nextid = 2) &amp;&amp; enemynum = 4
                mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
            else if (obj_battlecontrol.startid = 4 || nextid = 4) &amp;&amp; enemynum = 2
                mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
            sprite_index = spr_shroobwalk;
            stance = 0;   
        }
        //If 1st and 2nd Shroobs are present
        /*else if instance_exists(obj_battlecontrol.enemyid[2]) &amp;&amp; instance_exists(obj_battlecontrol.enemyid[3])
        {
            if obj_battlecontrol.startid = enemynum || nextid = enemynum //If it is this enemies turn
            {
                switch (enemynum)
                {
                    case 2: //1st Shroob moves
                        mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
                        if obj_battlecontrol.enemyid[3].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[3].moveto = 10; //Other Shroob will move too
                    break;
                    case 3: //2nd Shroob moves
                        mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
                        if obj_battlecontrol.enemyid[2].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[2].moveto = 10; //Other Shroob will move too
                    break;
                }
            }  
            else if (obj_battlecontrol.startid = 2 || nextid = 2) &amp;&amp; enemynum = 3
                mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
            else if (obj_battlecontrol.startid = 3 || nextid = 3) &amp;&amp; enemynum = 2
                mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
            sprite_index = spr_shroobwalk;
            stance = 0;       
        }*/
        //If 2nd and 3rd Shroobs are present
        else if instance_exists(obj_battlecontrol.enemyid[3]) &amp;&amp; instance_exists(obj_battlecontrol.enemyid[4])
        {
            if obj_battlecontrol.startid = enemynum || nextid = enemynum //If it is this enemies turn
            {
                switch (enemynum)
                {
                    case 3: //1st Shroob moves
                        mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
                        if obj_battlecontrol.enemyid[4].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[4].moveto = 10; //Other Shroob will move too
                    break;
                    case 4: //2nd Shroob moves
                        mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
                        if obj_battlecontrol.enemyid[3].moveto = 10
                            exit;
                        else
                            obj_battlecontrol.enemyid[3].moveto = 10; //Other Shroob will move too
                    break;
                }
            }     
            else if (obj_battlecontrol.startid = 3 || nextid = 3) &amp;&amp; enemynum = 4
                mp_linear_step(192,obj_mariob.y,3,0); //Move towards Mario
            else if (obj_battlecontrol.startid = 4 || nextid = 4) &amp;&amp; enemynum = 3
                mp_linear_step(176,obj_luigib.y,3,0); //Move towards Luigi
            sprite_index = spr_shroobwalk;
            stance = 0;   
        }
        else
            moveto = choose(1,3,6,8,1,3); //Choose a different attack

        if x = 192 &amp;&amp; y = obj_mariob.y &amp;&amp; moveto = 10 &amp;&amp; sprite_index = spr_shroobwalk
        {
            image_single = 0;
            image_index = 0;
            moveto = 11;
            if !instance_exists(obj_shroobattack)
                instance_create(0,0,obj_shroobattack);
            else
                obj_shroobattack.alarm[0] = 1;
        }
        else if x = 176 &amp;&amp; y = obj_luigib.y &amp;&amp; moveto = 10 &amp;&amp; sprite_index = spr_shroobwalk
        {
            image_single = 0;
            image_index = 0;
            moveto = 12;
            if !instance_exists(obj_shroobattack)
                instance_create(0,0,obj_shroobattack);
            else
                obj_shroobattack.alarm[0] = 1;
        }
    }
    if moveto = 13 &amp;&amp; sprite_index = spr_shroobwalk
    {
        sprite_index = spr_shroobcharging;
    }
    if moveto = 15 &amp;&amp; sprite_index = spr_shroobattack &amp;&amp; stance &lt; 2 &amp;&amp; image_index &gt;= 8
    {
        if !instance_exists(obj_shroobbeam)
        {
            ID = instance_create(x-40,y,obj_shroobbeam); //Shoot beam straight
            with ID effect_create_above(ef_explosion,x,y-4,0.1,c_white);
            with ID effect_create_above(ef_ring,x,y-6,0.1,c_aqua);
            ID.moveto = 3;
        }
        else
        {
            alarm[1] = 5;
        }
        stance = 3;
    }
   
    enemyahead = 0; //enemyahead is just a variable used in coding, don't worry about it
    if turndone = 1 &amp;&amp; global.turn = 2
    {
        if enemynum &lt; 5
        {
            do 
            {
                enemyahead += 1;
                nextid = obj_battlecontrol.enemyid[enemynum+enemyahead];
            }
            until (instance_exists(nextid) || enemynum+enemyahead = 5)
            if instance_exists(nextid)
            {
                if nextid.moveto = 0 &amp;&amp; nextid.turndone = 0
                {
                    target = floor(random(10));
                    if global.Mdead &gt; 0 || !instance_exists(obj_mariob)
                        target = 1;
                    if global.Ldead &gt; 0 || !instance_exists(obj_luigib)
                        target = 0;
                        
                    if target &gt;= 6 &amp;&amp; enemynum = 3
                        target = choose(0,1); //Choose a single attack instead if middle Shroob
                    
                    if (target = 0 || target = 4) //20% of occuring
                        nextid.moveto = 1; //Fire laser beam towards Mario
                    if (target = 1 || target = 5) //20% of occuring
                        nextid.moveto = 3; //Fire laser beam towards Luigi
                    if target = 2 //10% of occuring
                        nextid.moveto = 6; //Throw spikeball at Mario
                    if target = 3 //10% of occuring
                        nextid.moveto = 8; //Throw spikeball at Luigi
                    if target &gt;= 6 //40% of occuring
                        nextid.moveto = 10; //Fire laser beams at bros simultaneously
                }
            }
        }
        
        if enemynum+enemyahead = 5 &amp;&amp; x = xstart &amp;&amp; y = ystart
        {
            if global.Lspd &gt; global.Mspd &amp;&amp; global.turn &lt;&gt; 1
            {
                obj_luigib.turnnext = 0;
                obj_luigib.phase = 1;
                obj_mariob.turnnext = 1;
                obj_mariob.stance = 1;
                global.turn = 1;
            }
            else
            {
                obj_mariob.turnnext = 0;
                obj_luigib.turnnext = 1;
                obj_luigib.stance = 1;
                global.turn = 0;
            }
            turndone = 0;
        }
    }

    if global.turn != 2
        turndone = 0;

    if hp &lt;= 0 //Enemy dies
    {
        global.stunned = true;
        audio_play_sound(snd_enemy_dead,0,0);
        global.experience += experience;
        global.coinsearned += coins;
        event_user(0);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shroobball">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Throw the spikeball/Rethrow it back to the bros
if other.throwround &gt;= 4
{
    other.throwround = 0;

    effect_create_above(ef_explosion,x,y-4,0.1,c_white);
    effect_create_above(ef_explosion,x,y-6,0.1,c_black);
    with other event_user(0); //Destroy the spikeball
    
    //Hurt
    scr_damage_input(0,1);
    
    moveto = 5; //End turn
}
else if other.moveto = 8 &amp;&amp; other.y &gt; y-24
{
    other.moveto = 9;
    other.throwround += 0.5;
    sprite_index = spr_shroobthrow;
    image_index = 1;
}
else if other.moveto = 8 &amp;&amp; other.y &lt; y-24
    image_index = 0;
else if other.moveto = 16 &amp;&amp; other.y &gt; y-24
{
    other.moveto = 1;
    other.throwround += 0.5;
    sprite_index = spr_shroobthrow;
    image_index = 1;
}
else if other.moveto = 16 &amp;&amp; other.y &lt; y-24
    image_index = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check dead status
if dead = 0
{
    dead = 1;
    sprite_index = spr_shroobhurt;
    alarm[0] = 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Perform actions after end of animations
if sprite_index = spr_shroobattackm &amp;&amp; stance = 3 
{
    //sprite_index = spr_shroobwalk;
    image_index = 28;
    stance = 1;
    moveto = 5;
}
if sprite_index = spr_shroobattackl &amp;&amp; stance = 3 
{
    //sprite_index = spr_shroobwalk;
    image_index = 28;
    stance = 1;
    moveto = 5;
}
if sprite_index = spr_shroobtakeout &amp;&amp; stance = 4
{
    image_index = 4;
    image_single = 4;
    if obj_battlecontrol.target = 2 || moveto = 6 //Throw at Mario
        moveto = 7;
    else if obj_battlecontrol.target = 3 || moveto = 8 //Throw at Luigi
        moveto = 9;
}
if sprite_index = spr_shroobthrow &amp;&amp; stance = 5
{
    image_index = 0;
    image_single = 0;
}
if sprite_index = spr_shroobcharging &amp;&amp; moveto = 13
{
    moveto = 14;
    sprite_index = spr_shroobcharging2;
    if instance_exists(obj_shroobattack)
        obj_shroobattack.alarm[1] = 10;
}
if sprite_index = spr_shroobattack &amp;&amp; moveto = 15
{
    sprite_index = spr_shroobwalk;
    stance = 1;
    moveto = 16;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Draw shadow
//draw_sprite_ext(spr_shadow2,image_index,x+2,y-4,image_xscale,image_yscale,0,-1,image_alpha);

//Draw enemy
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,0,-1,image_alpha);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
