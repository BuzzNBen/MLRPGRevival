<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Battle Control
//global.turn is who's turn it is. 0 is Mario, 1 is Luigi, and 2 is the enemy group's turn.

//Sets up what you are fighting
//You may program up to 5 enemies for each battle
//Set unused ids as 0

//Initialize variables
image_speed = 0.275;
wintype = -1;
expleft = 0;
hpamount = 0;
bpamount = 0;
powamount = 0;
defamount = 0;
spdamount = 0;
stacheamount = 0;
spd = 0;
locked = 0;
padvisibility = 0;
_alpha = 0.8;
bossdead = 0;

//Place Mario and Luigi
broid[0] = 0;
if global.solobro = 0
{
    broid[1] = instance_create(80,136,obj_mariob);
    broid[2] = instance_create(64,200,obj_luigib);
}
else if global.solobro = 1
{
    broid[1] = instance_create(72,168,obj_mariob);
    broid[2] = 0;
}
else if global.solobro = 2
{
    broid[1] = 0;
    broid[2] = instance_create(72,168,obj_luigib);
}
broid[3] = 0;

//Battle Types
scr_battlelist();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Move Lakitu cloud in
if global.turn = -1.25 &amp;&amp; obj_mariob.x &gt; 107 &amp;&amp; stacheamount = -1
{
    if !audio_is_playing(snd_movein)
        audio_play_sound(snd_movein,0,0);
    with obj_mariob image_index = 0;
    with obj_mariob stance = 12;
    with obj_mariob x -= 4;
    instance_create(432,24,obj_levelupbonus);
}
if global.turn = -1.75 &amp;&amp; obj_luigib.x &gt; 105 &amp;&amp; stacheamount = -1
{
    if !audio_is_playing(snd_movein)
        audio_play_sound(snd_movein,0,0);
    with obj_luigib image_index = 0;
    with obj_luigib stance = 12;
    with obj_luigib x -= 1;
    instance_create(432,24,obj_levelupbonus);
}
if stacheamount &gt;= 0
{
    if hpamount = 0
        hpamount = -1;
    else if bpamount = 0
        bpamount = -1;
    else if powamount = 0
        powamount = -1;
    else if defamount = 0
        defamount = -1;
    else if spdamount = 0
        spdamount = -1;
    else if stacheamount = 0
        stacheamount = -1;
    alarm[8] = 8;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Play Mario or Luigi Voice
if global.turn = -1.25
    audio_play_sound(snd_mario_gotit,0,0);
if global.turn = -1.75
    audio_play_sound(snd_luigi_yahoo,0,0);
_alpha = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Level up Luigi
if global.turn = -1
    global.turn = -1.5;
if obj_luigib.x &gt;= 106 &amp;&amp; obj_luigib.y &gt;= 140
{
    locked = 0;
    global.turn = -1.75; //Luigi's Level Up turn
    obj_luigib.x = 106;
    obj_luigib.y = 140;
    background_index[0] = bg_levelup;
    background_alpha = 1;
    background_visible[7] = false;
    background_hspeed[0] = -1;
    background_vspeed[0] = -0.75;
    background_visible[1] = false;
    background_visible[2] = false;
    background_visible[3] = false;
    background_visible[4] = false;
    background_visible[5] = false;
    background_visible[6] = false;
    audio_stop_sound(snd_spin);
    audio_play_sound(snd_levelup,0,0);
    with obj_luigib stance = 11;
    alarm[7] = 45; //Play voice
}
else
{
    locked = 0;
    if !audio_is_playing(snd_spin)
        audio_play_sound(snd_spin,0,0);
    if background_alpha[0] &gt; 0
    {
        background_alpha[0] -= 0.1;
        padvisibility += 0.1;
    }
    with obj_luigib image_speed = 0.275;
    with obj_luigib moveto = -1;
    with obj_luigib mp_linear_step(107,141,1,0);
    with obj_luigib stance = 7;
    with obj_mariob visible = false;
    scr_LuigiLevels(); //Check stats to add for Luigi
    alarm[6] = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Level up Mario
if global.turn = -1
    global.turn = -1.5;
if obj_mariob.x &gt;= 108 &amp;&amp; obj_mariob.y &gt;= 140
{
    locked = 0;
    global.turn = -1.25; //Mario's Level Up turn
    obj_mariob.x = 108;
    obj_mariob.y = 140;
    background_index[0] = bg_levelup;
    background_alpha = 1;
    background_visible[7] = false;
    background_hspeed[0] = -1;
    background_vspeed[0] = -0.75;
    background_visible[1] = false;
    background_visible[2] = false;
    background_visible[3] = false;
    background_visible[4] = false;
    background_visible[5] = false;
    background_visible[6] = false;
    audio_stop_sound(snd_spin);
    audio_play_sound(snd_levelup,0,0);
    with obj_mariob stance = 11;
    alarm[7] = 45; //Play voice
}
else
{
    locked = 0;
    if !audio_is_playing(snd_spin)
        audio_play_sound(snd_spin,0,0);
    if background_alpha[0] &gt; 0
    {
        background_alpha[0] -= 0.1;
        padvisibility += 0.1;
    }
    with obj_mariob image_speed = 0.275;
    with obj_mariob moveto = -1;
    with obj_mariob mp_linear_step(109,141,1,0);
    with obj_mariob stance = 7;
    with obj_luigib visible = false;
    scr_MarioLevels(); //Check stats to add for Mario
    alarm[5] = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Stun and destroy
global.stunned = true;
global.outcome = 1;
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Win
if global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
{
    if wintype = -1
        with obj_mariob stance = 8;
    if wintype = -2
        with obj_mariob stance = 9;
    if wintype = -3
        with obj_mariob stance = 10;
}
if global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
{
    if wintype = -1
        with obj_luigib stance = 8;
    if wintype = -2
        with obj_luigib stance = 9;
    if wintype = -3
        with obj_luigib stance = 10;
}

//Add up points
if global.experience &gt; 0
{
    audio_play_sound(snd_spendcoins,0,0);
    if global.experience &gt; 0
    {
        if global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
        {
            global.Mexp += 1; //Add to Mario's exp
            global.Mexpleft -= 1; //Subtract amount Mario has left to level up
        }
        if global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
        {
            global.Lexp += 1; //Added to Luigi's exp
            global.Lexpleft -= 1; //Subtract amount Mario has left to level up
        }
        global.experience -= 1; //Subtract 1 from exp gained
        alarm[3] = 1;
    }
}
if global.coinsearned &gt; 0
{
    if !audio_is_playing(snd_spendcoins)
        audio_play_sound(snd_spendcoins,0,0);
    global.coins += 1; //Add to coin count
    global.coinsearned -= 1; //Subtract 1 from coins gained
    if global.coinsearned &gt; 0
        alarm[3] = 1;
}
if global.experience = 0 &amp;&amp; global.coinsearned = 0
    audio_stop_sound(snd_spendcoins);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Show Total Damage
if global.GameOver = false
    instance_create(x,y,obj_totaldamage);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Run Away
if audio_is_playing(snd_step)
    audio_stop_sound(snd_step);
audio_stop_all();
global.stunned = true; //This could be the variable to have enemies with invicibility frames in the Overworld
transition_kind = 21;
room = global.roomin;
global.outcome = 0.5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Restart after Game Over
audio_stop_sound(mus_GameOver);
audio_stop_all();
game_restart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if gamepad_button_check_pressed(0, global.buttonA) || keyboard_check_pressed(global.keyA) //A
{
    if global.turn &lt; 0 &amp;&amp; audio_is_playing(mus_Fanfare) &amp;&amp; obj_mariob.stance &lt;&gt; 7 &amp;&amp; obj_luigib.stance &lt;&gt; 7
    {
        if global.turn = -1.25 &amp;&amp; obj_mariob.x &gt; 107 &amp;&amp; locked = 0 &amp;&amp; !instance_exists(obj_levelupbonus)
        {
            audio_play_sound(snd_spendcoins,0,0);
            audio_play_sound(snd_confirm,0,0);
            //Add up stat totals
            global.maxMHP += hpamount;
            hpamount = 0;
            global.maxMBP += bpamount;
            bpamount = 0;
            global.Mpow += powamount;
            powamount = 0;
            global.Mdef += defamount;
            defamount = 0;
            global.Mspd += spdamount;
            spdamount = 0;
            global.Mstache += stacheamount;
            stacheamount = 0;
            locked = 1;
            alarm[8] = 50; //Move Lakitu cloud in
        }
        else if global.turn = -1.75 &amp;&amp; obj_luigib.x &gt; 105 &amp;&amp; locked = 0 &amp;&amp; !instance_exists(obj_levelupbonus)
        {
            audio_play_sound(snd_spendcoins,0,0);
            audio_play_sound(snd_confirm,0,0);
            //Add up stat totals
            global.maxLHP += hpamount;
            hpamount = 0;
            global.maxLBP += bpamount;
            bpamount = 0;
            global.Lpow += powamount;
            powamount = 0;
            global.Ldef += defamount;
            defamount = 0;
            global.Lspd += spdamount;
            spdamount = 0;
            global.Lstache += stacheamount;
            stacheamount = 0;
            locked = 1;
            alarm[8] = 50; //Move Lakitu cloud in
        }
        else if instance_exists(obj_levelupbonus) &amp;&amp; obj_levelupbonus.moveto = 0
        {
            //Start bonus wheel
            audio_play_sound(snd_confirm,0,0);
            audio_play_sound(snd_roulette,0,1);
            obj_levelupbonus.moveto = 2;
            with obj_levelupbonus alarm[0] = 5;
        }
        else if global.experience = 0 &amp;&amp; global.coinsearned = 0
        {
            //Check to see if Mario or Luigi leveled up
            event_user(4);
        }
        else if global.experience &gt; 0 or global.coins &gt; 0
        {
            //Add up remaining totals at once
            audio_stop_sound(snd_spendcoins);
            audio_play_sound(snd_confirm,0,0);
            if global.Mdead = 0
            {
                global.Mexp += global.experience;
                global.Mexpleft -= global.experience;
            }
            if global.Ldead = 0
            {
                global.Lexp += global.experience;
                global.Lexpleft -= global.experience;
            }
            global.coins += global.coinsearned;
            global.experience = 0;
            global.coinsearned = 0;
        }
    }
}
if gamepad_button_check_pressed(0, global.buttonB) || keyboard_check_pressed(global.keyB) //B
{
    if instance_exists(obj_levelupbonus) &amp;&amp; obj_levelupbonus.moveto = 2
    {
        audio_play_sound(snd_cancel,0,0);
        audio_stop_sound(snd_roulette);
        with obj_levelupbonus moveto = 0;
        with obj_levelupbonus value = 0;
    }
}

if instance_exists(obj_bossexplosion) &amp;&amp; bossdead = 1
{
    if obj_mariob.x = obj_mariob.stancex &amp;&amp; obj_mariob.y = obj_mariob.stancey
    &amp;&amp; obj_luigib.x = obj_luigib.stancex &amp;&amp; obj_luigib.y = obj_luigib.stancey
    &amp;&amp; !instance_exists(obj_pointsbattle) &amp;&amp; !instance_exists(obj_rankbattle)
    &amp;&amp; !instance_exists(obj_totaldamage) &amp;&amp; (global.posx = 0 &amp;&amp; global.posy = 0)
    {
        bossdead = 2
        if instance_exists(enemyid[1])
            with enemyid[1] if dead = 1 instance_destroy();
        if instance_exists(enemyid[2])
            with enemyid[2] if dead = 1 instance_destroy();
        if instance_exists(enemyid[3])
            with enemyid[3] if dead = 1 instance_destroy();
        if instance_exists(enemyid[4])
            with enemyid[4] if dead = 1 instance_destroy();
        if instance_exists(enemyid[5])
            with enemyid[5] if dead = 1 instance_destroy();
        with obj_bossexplosion visible = true;
        with obj_bossexplosion alarm[10] = 2;
    }
}

if !instance_exists(enemyid[1])&amp;&amp; 
!instance_exists(enemyid[2])&amp;&amp;
!instance_exists(enemyid[3])&amp;&amp;
!instance_exists(enemyid[4])&amp;&amp;
!instance_exists(enemyid[5]) &amp;&amp;
!instance_exists(obj_bossexplosion) &amp;&amp;
!instance_exists(obj_bossfade)
{
    if obj_mariob.x = obj_mariob.stancex &amp;&amp; obj_mariob.y = obj_mariob.stancey
    &amp;&amp; obj_luigib.x = obj_luigib.stancex &amp;&amp; obj_luigib.y = obj_luigib.stancey
    &amp;&amp; !instance_exists(obj_pointsbattle) &amp;&amp; !instance_exists(obj_rankbattle)
    &amp;&amp; !instance_exists(obj_totaldamage) &amp;&amp; (global.posx = 0 &amp;&amp; global.posy = 0
    || global.turn = 2)
        event_user(3); //Victory
}
else if global.turn = 2 &amp;&amp; !instance_exists(obj_bossexplosion) &amp;&amp; !instance_exists(obj_bossfade) //Enemies Turn
{
    startid = 0;
    do
    {
        startid += 1;
    }
    until (instance_exists(enemyid[startid]));
    
    if instance_exists(enemyid[startid])
    {
        if enemyid[startid].turndone = 0 &amp;&amp; enemyid[startid].moveto = 0
        {
            if obj_mariob.hurt = 1 &amp;&amp; obj_mariob.control = 1 &amp;&amp; global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
                obj_mariob.hurt = 0;
            if obj_luigib.hurt = 1 &amp;&amp; obj_luigib.control = 1 &amp;&amp; global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
                obj_luigib.hurt = 0;
            event_user(9); //Check what enemy will attack
        }
    }
}

if instance_number(obj_mariob) = 0 and instance_number(obj_luigib) = 0
{
    global.stunned = true; //This could be the variable to avoid encountering same enemy in Overworld
    transition_kind = 21;
    room_goto(global.roomin);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="19">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Determine who the enemy will attack and how it will attack
if enemyid[startid].enemyname = object_get_name(obj_shroobb)
{
    target = floor(random(10));
    if global.Mdead &gt; 0 || !instance_exists(obj_mariob)
        target = 1;
    if global.Ldead &gt; 0 || !instance_exists(obj_luigib)
        target = 0;
    
    if (target = 0 || target = 4) //20% of occuring
        enemyid[startid].moveto = 1; //Fire laser beam towards Mario
    if (target = 1 || target = 5) //20% of occuring
        enemyid[startid].moveto = 3; //Fire laser beam towards Luigi
    if target = 2 //10% of occuring
        enemyid[startid].moveto = 6; //Throw spikeball at Mario
    if target = 3 //10% of occuring
        enemyid[startid].moveto = 8; //Throw spikeball at Luigi
    if target &gt;= 6 //40% of occuring
        enemyid[startid].moveto = 10; //Fire laser beams at bros simultaneously
}
else if enemyid[startid].enemyname = object_get_name(obj_lakitub)
{
    target = floor(random(6)); //Choose whether to attack Mario or Luigi
    if global.Mdead &gt; 0
        target = 1;
    if global.Ldead &gt; 0
        target = 0;

    /*if target = 0 || target = 3
        enemyid[startid].moveto = 1; //Move to Mario
    if target = 1 || target = 4
        enemyid[startid].moveto = 3; //Move to Luigi
    if target = 2 || target &gt;= 5*/
        enemyid[startid].moveto = 5; //Throw a spiny
}
else if enemyid[startid].enemyname = object_get_name(obj_goombab) || enemyid[startid].enemyname = object_get_name(obj_popb) ||
enemyid[startid].enemyname = object_get_name(obj_mossyb) || enemyid[startid].enemyname = object_get_name(obj_spinyb) ||
enemyid[startid].enemyname = object_get_name(obj_shyguyb)
{
    target = floor(random(2));
    if global.Mdead &gt; 0 || !instance_exists(obj_mariob)
        target = 1;
    if global.Ldead &gt; 0 || !instance_exists(obj_luigib)
        target = 0;
    if target = 0
        enemyid[startid].moveto = 1; //Move towards Mario
    if target = 1
        enemyid[startid].moveto = 3; //Move towards Luigi
}
else if enemyid[startid].enemyname = object_get_name(obj_bowserb)
{
    if global.turn = 2
        global.turn = 0; //for now
    /*target = floor(random(2));
    if global.Mdead &gt; 0 || !instance_exists(obj_mariob)
        target = 1;
    if global.Ldead &gt; 0 || !instance_exists(obj_luigib)
        target = 0;
    if target = 0
        enemyid[startid].moveto = 1; //Move towards Mario
    if target = 1
        enemyid[startid].moveto = 3; //Move towards Luigi*/
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="18">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Compare bros and enemies speeds
//Find enemy's speed
var i = 0;
repeat(5)
{
    if instance_exists(enemyid[i]) or (enemyid[i] = 0) or (enemyid[i] = noone)
    or obj_mariob.phase &lt; 0 or obj_luigib.phase &lt; 0
        {}
    else
        spd = enemyid[i].spd;
    i += 1;
}

//Determine who goes first
if global.Mspd &lt; spd || global.Lspd &lt; spd
{
    if global.Mspd &gt; global.Lspd or !instance_exists(obj_luigib)
        obj_mariob.turnnext = 1;
    else if global.Lspd &gt; global.Mspd or !instance_exists(obj_mariob)
        obj_luigib.turnnext = 1;
    if !instance_exists(obj_bossexplosion)
        global.turn = 2;
    global.strike = 0;
}
else if global.Lspd &gt; global.Mspd || !instance_exists(obj_mariob)
{
    obj_luigib.phase = 1;
    obj_luigib.turnnext = 0;
    obj_mariob.turnnext = 1;
    if !instance_exists(obj_bossexplosion)
        global.turn = 1;
    global.strike = 0;
}
else
{
    obj_mariob.phase = 1;
    obj_mariob.turnnext = 0;
    obj_luigib.turnnext = 1;
    if !instance_exists(obj_bossexplosion)
        global.turn = 0;
    global.strike = 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="14">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Level Up System
if global.turn &lt; 0 &amp;&amp; locked = 0
{
    //Check to see if Mario leveled up
    if global.Mdead = 0 &amp;&amp; global.Mexpleft &lt;= 0 &amp;&amp; instance_exists(obj_mariob)
    {
        audio_play_sound(snd_confirm,0,0);
        global.Mlvl += 1; //Increase level by 1
        locked = 1;
        if global.Mdead = 0 &amp;&amp; global.Mexpleft &lt;= 0 &amp;&amp; instance_exists(obj_mariob) //Level up Mario
            scr_MarioNextLevel();
        alarm[5] = 15; //Go to level up Mario
    }
    //Check to see if Luigi leveled up
    else if global.Ldead = 0 &amp;&amp; global.Lexpleft &lt;= 0 &amp;&amp; instance_exists(obj_luigib)
    {
        audio_play_sound(snd_confirm,0,0);
        global.Llvl += 1; //Increase level by 1
        locked = 1;
        if global.Ldead = 0 &amp;&amp; global.Lexpleft &lt;= 0 &amp;&amp; instance_exists(obj_luigib) //Level up Luigi
            scr_LuigiNextLevel();
        alarm[6] = 15; //Go to level up Luigi
    }
    //Return to Overworld
    else if global.turn = -1
    {
        audio_stop_sound(mus_Fanfare);
        audio_play_sound(snd_confirm,0,0);
        alarm[4] = 90;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Victory
if global.turn &gt; -1
{
    global.turn = -1;
    if global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
    {
        if obj_mariob.phase &lt; 0
            wintype = obj_mariob.phase;
        obj_mariob.image_speed = 0.45;
        obj_mariob.phase = 0.75;
        obj_mariob.stance = 7;
    }
    if global.Mdead &gt; 0 or !instance_exists(obj_mariob)
    {
        obj_mariob.phase = 0.25;
        obj_mariob.control = 0;
    }
    if global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
    {
        if obj_luigib.phase &lt; 0
            wintype = obj_luigib.phase;
        obj_luigib.phase = 0.75
        obj_luigib.image_speed = 0.45;
        obj_luigib.stance = 7;
    }
    if global.Ldead &gt; 0 or !instance_exists(obj_luigib)
    {
        obj_luigib.phase = 0.25;
        obj_luigib.control = 0;
    }
    audio_stop_sound(global.music);
    audio_stop_all();
    music_play(mus_Fanfare);
    alarm[3] = 90;
    background_index[7] = bg_darkened;
    background_visible[7] = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Game Over
global.GameOver = true;
audio_stop_sound(global.music);
audio_play_sound(mus_GameOver,1,0);
alarm[2] = 2;
background_index[7] = bg_darkened;
background_visible[7] = true;
alarm[0] = 800;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Ready to Run
alarm[1] = 90;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Show Counterattack HUD
if global.turn = 2 &amp;&amp; obj_mariob.stance &lt;&gt; 7 &amp;&amp; obj_luigib.stance &lt;&gt; 7
{
    //Mario Counterattack HUD
    if global.Mdead = 0 or global.Mdead = 0.5 &amp;&amp; instance_exists(obj_mariob)
    {
        draw_sprite_ext(spr_defensedisplay,0,52,52,1,1,0,-1,1);
        if obj_mariob.phase = -1
            draw_sprite(spr_jumpdefense,-1,56,50);
        if obj_mariob.phase = -2
            draw_sprite(spr_hammerdefense,-1,56,54); //When counterattacking with the hammer
    }

    //Luigi Counterattack HUD
    if global.Ldead = 0 or global.Ldead = 0.5 &amp;&amp; instance_exists(obj_luigib)
    {
        draw_sprite_ext(spr_defensedisplay,1,28,68,1,1,0,-1,1);
        if obj_luigib.phase = -1
            draw_sprite(spr_jumpdefense,-1,32,66);
        if obj_luigib.phase = -2
            draw_sprite(spr_hammerdefense,-1,32,70); //When counterattacking with the hammer
    }
}
//Fade in pad when background fades out
if padvisibility &gt; 0 &amp;&amp; global.turn = -1.5
{
    if obj_mariob.visible = true &amp;&amp; instance_exists(obj_mariob)
        draw_sprite_ext(spr_winstrikedisplay,0,104,134,1,1,0,-1,padvisibility);
    else if obj_luigib.visible = true &amp;&amp; instance_exists(obj_luigib)
        draw_sprite_ext(spr_winstrikedisplay,1,104,134,1,1,0,-1,padvisibility);
}
//Mario's Level Up
if global.turn = -1.25 &amp;&amp; global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
{
    //Draw Level Up Display
    draw_sprite_ext(spr_levelupdisplay,0,146,38,1,1,1,-1,1);
    //Draw Mario's name
    draw_sprite_ext(spr_bronames,0,104,186,1,1,0,-1,1);
    //Draw LVL
     draw_sprite_ext(spr_lvl,0,74,205,1,1,0,-1,1);
    //Draw level number
    if global.Mlvl &lt; 10
        scr_draw_numbers(106,194,global.Mlvl,1,1,1,0,c_yellow,0.8);
    else if global.Mlvl &lt; 100
        scr_draw_numbers(96,194,global.Mlvl,2,1,1,0,c_yellow,0.8);     
    else if global.Mlvl &gt;= 99
        global.Mlvl = 99;
    //Draw pad
    draw_sprite_ext(spr_winstrikedisplay,0,104,134,1,1,0,-1,1);
    //Draw Level Up Bars 
    if instance_exists(obj_levelupbonus) &amp;&amp; obj_levelupbonus.moveto = 0
    {
        if obj_levelupbonus.movechoose = 52
            draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,c_blue,1); //HP highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,-1,1); //HP
        if obj_levelupbonus.movechoose = 76
            draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,c_blue,1); //BP highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,-1,1); //BP
        if obj_levelupbonus.movechoose = 100
            draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,c_blue,1); //POW highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,-1,1); //POW
        if obj_levelupbonus.movechoose = 124
            draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,c_blue,1); //DEF highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,-1,1); //DEF
        if obj_levelupbonus.movechoose = 148
            draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,c_blue,1); //SPEED highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,-1,1); //SPEED
        if obj_levelupbonus.movechoose = 172
            draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,c_blue,1); //STACHE highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,-1,1); //STACHE  
    }
    else
    {
        draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,-1,1); //HP
        draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,-1,1); //BP
        draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,-1,1); //POW
        draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,-1,1); //DEF
        draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,-1,1); //SPEED
        draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,-1,1); //STACHE    
    }
    //Draw Level Up Stats
    draw_sprite_ext(spr_levelupstatsdisplay,0,222,76,1,1,0,-1,1); //HP
    draw_sprite_ext(spr_levelupstatsdisplay,1,222,100,1,1,0,-1,1); //BP
    draw_sprite_ext(spr_levelupstatsdisplay,2,222,124,1,1,0,-1,1); //POW
    draw_sprite_ext(spr_levelupstatsdisplay,3,222,148,1,1,0,-1,1); //DEF
    draw_sprite_ext(spr_levelupstatsdisplay,4,222,172,1,1,0,-1,1); //SPEED
    draw_sprite_ext(spr_levelupstatsdisplay,5,222,196,1,1,0,-1,1); //STACHE
    //Draw stats earned
    if hpamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,68,1,1,0,-1,0.8); //HP+
    if bpamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,92,1,1,0,-1,0.8); //BP+
    if powamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,116,1,1,0,-1,0.8); //POW+
    if defamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,140,1,1,0,-1,0.8); //DEF+
    if spdamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,164,1,1,0,-1,0.8); //SPEED+
    if stacheamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,188,1,1,0,-1,0.8); //STACHE+
    //Draw Mario's Stats
    //Draw Mario's HP
    if global.maxMHP &lt; 10
        scr_draw_numbers(328,66,global.maxMHP,1,0.85,0.85,0,c_yellow,0.8);
    else if global.maxMHP &lt; 100
        scr_draw_numbers(314,66,global.maxMHP,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.maxMHP &lt; 1000
        scr_draw_numbers(300,66,global.maxMHP,3,0.85,0.85,0,c_yellow,0.8);  
    if global.maxMHP &gt;= 999
        global.maxMHP = 999;        
    //Mario's HP earned
    if hpamount &gt;= 0
        scr_draw_numbers(376,66,hpamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Mario's BP
    if global.maxMBP &lt; 10
        scr_draw_numbers(328,90,global.maxMBP,1,0.85,0.85,0,c_yellow,0.8);
    else if global.maxMBP &lt; 100
        scr_draw_numbers(314,90,global.maxMBP,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.maxMBP &lt; 1000
        scr_draw_numbers(300,90,global.maxMBP,3,0.85,0.85,0,c_yellow,0.8);  
    if global.maxMBP &gt;= 999
        global.maxMBP = 999;        
    //Mario's BP earned
    if bpamount &gt;= 0
        scr_draw_numbers(376,90,bpamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Mario's POW
    if global.Mpow &lt; 10
        scr_draw_numbers(328,114,global.Mpow,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Mpow &lt; 100
        scr_draw_numbers(314,114,global.Mpow,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Mpow &lt; 1000
        scr_draw_numbers(300,114,global.Mpow,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Mpow &gt;= 999
        global.Mpow = 999;        
    //Mario's POW earned
    if powamount &gt;= 0
        scr_draw_numbers(376,114,powamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Mario's DEF
    if global.Mdef &lt; 10
        scr_draw_numbers(328,138,global.Mdef,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Mdef &lt; 100
        scr_draw_numbers(314,138,global.Mdef,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Mdef &lt; 1000
        scr_draw_numbers(300,138,global.Mdef,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Mdef &gt;= 999
        global.Mdef = 999;        
    //Mario's DEF earned
    if defamount &gt;= 0
        scr_draw_numbers(376,138,defamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Mario's SPEED
    if global.Mspd &lt; 10
        scr_draw_numbers(328,162,global.Mspd,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Mspd &lt; 100
        scr_draw_numbers(314,162,global.Mspd,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Mspd &lt; 1000
        scr_draw_numbers(300,162,global.Mspd,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Mspd &gt;= 999
        global.Mspd = 999;        
    //Mario's SPEED earned
    if spdamount &gt;= 0
        scr_draw_numbers(376,162,spdamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Mario's STACHE
    if global.Mstache &lt; 10
        scr_draw_numbers(328,186,global.Mstache,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Mstache &lt; 100
        scr_draw_numbers(314,186,global.Mstache,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Mstache &lt; 1000
        scr_draw_numbers(300,186,global.Mstache,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Mstache &gt;= 999
        global.Mstache = 999;        
    //Mario's STACHE earned
    if stacheamount &gt;= 0
        scr_draw_numbers(376,186,stacheamount,1,0.85,0.85,0,c_yellow,0.8);
}
//Luigi's Level Up
if global.turn = -1.75 &amp;&amp; global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
{
    //Draw Level Up Display
    draw_sprite_ext(spr_levelupdisplay,0,146,38,1,1,1,-1,1);
    //Draw Luigi's name
    draw_sprite_ext(spr_bronames,1,104,186,1,1,0,-1,1);
    //Draw LVL
     draw_sprite_ext(spr_lvl,0,74,205,1,1,0,-1,1);
    //Draw level number
    if global.Llvl &lt; 10
        scr_draw_numbers(106,194,global.Llvl,1,1,1,0,c_yellow,0.8);
    else if global.Llvl &lt; 100
        scr_draw_numbers(96,194,global.Llvl,2,1,1,0,c_yellow,0.8);     
    else if global.Llvl &gt;= 99
        global.Llvl = 99;
    //Draw pad
    draw_sprite_ext(spr_winstrikedisplay,1,104,134,1,1,0,-1,1);
    //Draw Level Up Bars 
    if instance_exists(obj_levelupbonus) &amp;&amp; obj_levelupbonus.moveto = 0
    {
        if obj_levelupbonus.movechoose = 52
            draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,c_blue,1); //HP highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,-1,1); //HP
        if obj_levelupbonus.movechoose = 76
            draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,c_blue,1); //BP highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,-1,1); //BP
        if obj_levelupbonus.movechoose = 100
            draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,c_blue,1); //POW highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,-1,1); //POW
        if obj_levelupbonus.movechoose = 124
            draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,c_blue,1); //DEF highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,-1,1); //DEF
        if obj_levelupbonus.movechoose = 148
            draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,c_blue,1); //SPEED highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,-1,1); //SPEED
        if obj_levelupbonus.movechoose = 172
            draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,c_blue,1); //STACHE highlighted
        else
            draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,-1,1); //STACHE  
    }
    else
    {
        draw_sprite_ext(spr_levelupbardisplay,0,272,76,1,1,0,-1,1); //HP
        draw_sprite_ext(spr_levelupbardisplay,0,272,100,1,1,0,-1,1); //BP
        draw_sprite_ext(spr_levelupbardisplay,0,272,124,1,1,0,-1,1); //POW
        draw_sprite_ext(spr_levelupbardisplay,0,272,148,1,1,0,-1,1); //DEF
        draw_sprite_ext(spr_levelupbardisplay,0,272,172,1,1,0,-1,1); //SPEED
        draw_sprite_ext(spr_levelupbardisplay,0,272,196,1,1,0,-1,1); //STACHE    
    }
    //Draw Level Up Stats
    draw_sprite_ext(spr_levelupstatsdisplay,0,222,76,1,1,0,-1,1); //HP
    draw_sprite_ext(spr_levelupstatsdisplay,1,222,100,1,1,0,-1,1); //BP
    draw_sprite_ext(spr_levelupstatsdisplay,2,222,124,1,1,0,-1,1); //POW
    draw_sprite_ext(spr_levelupstatsdisplay,3,222,148,1,1,0,-1,1); //DEF
    draw_sprite_ext(spr_levelupstatsdisplay,4,222,172,1,1,0,-1,1); //SPEED
    draw_sprite_ext(spr_levelupstatsdisplay,5,222,196,1,1,0,-1,1); //STACHE
    //Draw stats earned
    if hpamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,68,1,1,0,-1,0.8); //HP+
    if bpamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,92,1,1,0,-1,0.8); //BP+
    if powamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,116,1,1,0,-1,0.8); //POW+
    if defamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,140,1,1,0,-1,0.8); //DEF+
    if spdamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,164,1,1,0,-1,0.8); //SPEED+
    if stacheamount &gt;= 0
        draw_sprite_ext(spr_mathmaticalsymbols,0,356,188,1,1,0,-1,0.8); //STACHE+
    //Draw Luigi's Stats
    //Draw Luigi's HP
    if global.maxLHP &lt; 10
        scr_draw_numbers(328,66,global.maxLHP,1,0.85,0.85,0,c_yellow,0.8);
    else if global.maxLHP &lt; 100
        scr_draw_numbers(314,66,global.maxLHP,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.maxLHP &lt; 1000
        scr_draw_numbers(300,66,global.maxLHP,3,0.85,0.85,0,c_yellow,0.8);  
    if global.maxLHP &gt;= 999
        global.maxLHP = 999;        
    //Luigi's HP earned
    if hpamount &gt;= 0
        scr_draw_numbers(376,66,hpamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Luigi's BP
    if global.maxLBP &lt; 10
        scr_draw_numbers(328,90,global.maxLBP,1,0.85,0.85,0,c_yellow,0.8);
    else if global.maxLBP &lt; 100
        scr_draw_numbers(314,90,global.maxLBP,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.maxLBP &lt; 1000
        scr_draw_numbers(300,90,global.maxLBP,3,0.85,0.85,0,c_yellow,0.8);  
    if global.maxLBP &gt;= 999
        global.maxLBP = 999;        
    //Luigi's BP earned
    if bpamount &gt;= 0
        scr_draw_numbers(376,90,bpamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Luigi's POW
    if global.Lpow &lt; 10
        scr_draw_numbers(328,114,global.Lpow,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Lpow &lt; 100
        scr_draw_numbers(314,114,global.Lpow,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Lpow &lt; 1000
        scr_draw_numbers(300,114,global.Lpow,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Lpow &gt;= 999
        global.Lpow = 999;        
    //Luigi's POW earned
    if powamount &gt;= 0
        scr_draw_numbers(376,114,powamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Luigi's DEF
    if global.Ldef &lt; 10
        scr_draw_numbers(328,138,global.Ldef,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Ldef &lt; 100
        scr_draw_numbers(314,138,global.Ldef,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Ldef &lt; 1000
        scr_draw_numbers(300,138,global.Ldef,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Ldef &gt;= 999
        global.Ldef = 999;        
    //Luigi's DEF earned
    if defamount &gt;= 0
        scr_draw_numbers(376,138,defamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Luigi's SPEED
    if global.Lspd &lt; 10
        scr_draw_numbers(328,162,global.Lspd,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Lspd &lt; 100
        scr_draw_numbers(314,162,global.Lspd,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Lspd &lt; 1000
        scr_draw_numbers(300,162,global.Lspd,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Lspd &gt;= 999
        global.Lspd = 999;        
    //Luigi's SPEED earned
    if spdamount &gt;= 0
        scr_draw_numbers(376,162,spdamount,1,0.85,0.85,0,c_yellow,0.8);
    //Draw Luigi's STACHE
    if global.Lstache &lt; 10
        scr_draw_numbers(328,186,global.Lstache,1,0.85,0.85,0,c_yellow,0.8);
    else if global.Lstache &lt; 100
        scr_draw_numbers(314,186,global.Lstache,2,0.85,0.85,0,c_yellow,0.8);     
    else if global.Lstache &lt; 1000
        scr_draw_numbers(300,186,global.Lstache,3,0.85,0.85,0,c_yellow,0.8);  
    if global.Lstache &gt;= 999
        global.Lstache = 999;        
    //Luigi's STACHE earned
    if stacheamount &gt;= 0
        scr_draw_numbers(376,186,stacheamount,1,0.85,0.85,0,c_yellow,0.8);
}
if global.GameOver = true
{
    depth = -999;
    draw_sprite(spr_gameover,-1,room_width/2,room_height/2);
}
//Show Victory Stats
if global.turn = -1
{
    if global.Mdead = 0 &amp;&amp; instance_exists(obj_mariob)
    {
        //Draw Win Display
        draw_sprite_ext(spr_mariowindisplay2,2,245,76,1,1,0,-1,0.8);
        draw_sprite_ext(spr_mariowindisplay,0,245,70,1,1,0,-1,1);
        //Show EXP
        draw_sprite_ext(spr_exp,0,158,50,1,1,0,-1,0.8);
        //Draw Mario's name
        draw_sprite_ext(spr_bronames,0,249,62,1,1,0,-1,0.8);
        //Draw EXP earned
        draw_sprite_ext(spr_mathmaticalsymbols,0,212,72,1,1,0,-1,0.8);
        if global.experience &lt; 10
            scr_draw_numbers_empty(266,71,global.experience,1,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 100
            scr_draw_numbers_empty(256,71,global.experience,2,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 1000
            scr_draw_numbers_empty(244,71,global.experience,3,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 10000
            scr_draw_numbers_empty(232,71,global.experience,4,0.75,0.75,0,c_yellow,0.8);
        //Draw total EXP for Mario
        if global.Mexp &lt; 10
            scr_draw_numbers_empty(240,91,global.Mexp,1,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 100
            scr_draw_numbers_empty(234,91,global.Mexp,2,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 1000
            scr_draw_numbers_empty(228,91,global.Mexp,3,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 10000
            scr_draw_numbers_empty(224,91,global.Mexp,4,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 100000
            scr_draw_numbers_empty(218,91,global.Mexp,5,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 1000000
            scr_draw_numbers_empty(210,91,global.Mexp,6,0.85,0.85,0,c_yellow,0.8);
        else if global.Mexp &lt; 10000000
            scr_draw_numbers_empty(206,91,global.Mexp,7,0.85,0.85,0,c_yellow,0.8);
        if global.Mexp &gt;= 9999999
            global.Mexp = 9999999;
    }
    if global.Mdead &gt; 1 &amp;&amp; instance_exists(obj_mariob)
    {
        //Draw Win Display
        draw_sprite_ext(spr_mariowindisplay2,2,245,76,1,1,0,-1,0.4);
        draw_sprite_ext(spr_mariowindisplay,0,245,70,1,1,0,-1,0.4);
    }
    if global.Ldead = 0 &amp;&amp; instance_exists(obj_luigib)
    {
        //Draw Win Display
        draw_sprite_ext(spr_luigiwindisplay2,2,245,146,1,1,0,-1,0.8);
        draw_sprite_ext(spr_luigiwindisplay,0,245,140,1,1,0,-1,1);
        //Show EXP
        draw_sprite_ext(spr_exp,0,158,120,1,1,0,-1,0.8);
        //Draw Luigi's name
        draw_sprite_ext(spr_bronames,1,249,132,1,1,0,-1,0.8);
        //Draw EXP earned
        draw_sprite_ext(spr_mathmaticalsymbols,0,212,141,1,1,0,-1,0.8);
        if global.experience &lt; 10
            scr_draw_numbers_empty(266,141,global.experience,1,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 100
            scr_draw_numbers_empty(256,141,global.experience,2,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 1000
            scr_draw_numbers_empty(244,141,global.experience,3,0.75,0.75,0,c_yellow,0.8);
        else if global.experience &lt; 10000
            scr_draw_numbers_empty(232,141,global.experience,4,0.75,0.75,0,c_yellow,0.8);
        //Draw total EXP for Luigi
        if global.Lexp &lt; 10
            scr_draw_numbers_empty(240,161,global.Lexp,1,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 100
            scr_draw_numbers_empty(234,161,global.Lexp,2,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 1000
            scr_draw_numbers_empty(228,161,global.Lexp,3,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 10000
            scr_draw_numbers_empty(224,161,global.Lexp,4,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 100000
            scr_draw_numbers_empty(218,161,global.Lexp,5,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 1000000
            scr_draw_numbers_empty(210,161,global.Lexp,6,0.85,0.85,0,c_yellow,0.8);
        else if global.Lexp &lt; 10000000
            scr_draw_numbers_empty(206,161,global.Lexp,7,0.85,0.85,0,c_yellow,0.8);
        if global.Lexp &gt;= 9999999
            global.Lexp = 9999999;
    }
    if global.Ldead &gt; 1 &amp;&amp; instance_exists(obj_luigib)
    {
        //Draw Win Display
        draw_sprite_ext(spr_luigiwindisplay2,2,245,146,1,1,0,-1,0.4);
        draw_sprite_ext(spr_luigiwindisplay,0,245,140,1,1,0,-1,0.4);
    }
    //Draw Coins Display
    draw_sprite_ext(spr_coinwindisplay2,0,245,198,1,1,0,-1,1);
    draw_sprite_ext(spr_coinwindisplay,0,245,202,1,1,0,-1,1);
    //Show Coin
    draw_sprite_ext(spr_coins,0,158,202,1,1,0,-1,0.8);
    //Draw Coins earned
    draw_sprite_ext(spr_mathmaticalsymbols,0,212,194,1,1,0,-1,0.8);    
    if global.coinsearned &lt; 10
        scr_draw_numbers_empty(300,193,global.coinsearned,1,0.75,0.75,0,c_yellow,0.8);
    else if global.coinsearned &lt; 100
        scr_draw_numbers_empty(294,193,global.coinsearned,2,0.75,0.75,0,c_yellow,0.8);
    else if global.coinsearned &lt; 1000
        scr_draw_numbers_empty(288,193,global.coinsearned,3,0.75,0.75,0,c_yellow,0.8);
    else if global.coinsearned &lt; 10000
        scr_draw_numbers_empty(284,193,global.coinsearned,4,0.75,0.75,0,c_yellow,0.8);
    //Draw total coins
    if global.coins &lt; 10
        scr_draw_numbers_empty(240,213,global.coins,1,0.85,0.85,0,c_yellow,0.8);
    else if global.coins &lt; 100
        scr_draw_numbers_empty(234,213,global.coins,2,0.85,0.85,0,c_yellow,0.8);
    else if global.coins &lt; 1000
        scr_draw_numbers_empty(228,213,global.coins,3,0.85,0.85,0,c_yellow,0.8);
    else if global.coins &lt; 10000
        scr_draw_numbers_empty(224,213,global.coins,4,0.85,0.85,0,c_yellow,0.8);
    else if global.coins &lt; 100000
        scr_draw_numbers_empty(218,213,global.coins,5,0.85,0.85,0,c_yellow,0.8);
    else if global.coins &lt; 1000000
        scr_draw_numbers_empty(210,213,global.coins,6,0.85,0.85,0,c_yellow,0.8);
    if global.coins &gt;= 999999
        global.coins = 999999;
}

    //Show A button
    if global.turn = -1 &amp;&amp; (obj_mariob.stance &gt;= 8 &amp;&amp; obj_mariob.stance &lt;= 10) or (obj_luigib.stance &gt;= 8
    &amp;&amp; obj_luigib.stance &lt;= 10) &amp;&amp; global.experience = 0 &amp;&amp; (obj_mariob.x = 108 or obj_luigib.x = 107)
        draw_sprite_ext(spr_mariochoose,-1,room_width-16,room_height-8,1,1,0,-1,_alpha);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="84">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*DEBUG ONLY
//Give boost for debugging

audio_play_sound(snd_delete_file,0,0);

//Mario stats
global.Mlvl = 3; //Mario's level
global.MHP = 32; //Mario's health (HP)
global.maxMHP = global.MHP; //Mario's maximum health
global.MBP = 20; //Mario's bro points (BP)
global.maxMBP = global.MBP; //Mario's maximum bro points
global.Mpow = 6; //Mario's offensive strength (POW)
global.Mdef = 14; //Mario's defensive strength (DEF)
global.Mspd = 13; //Mario's speed for turns
global.Mstache = 2; //Mario's chance of getting lucky hits (stache)

//Luigi stats
global.Llvl = 3; //Luigi's level
global.LHP = 34; //Luigi's health (HP)
global.maxLHP = global.LHP; //Luigi's maximum health
global.LBP = 20 //Luigi's bro points (BP)
global.maxLBP = global.LBP; //Luigi's maximum bro points
global.Lpow = 6; //Luigi's offensive strength (POW)
global.Ldef = 12; //Luigi's defensive strength (DEF)
global.Lspd = 10; //Luigi's speed for turns
global.Lstache = 3; //Luigi's chance of getting lucky hits (stache)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
